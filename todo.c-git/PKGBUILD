# Maintainer: wenLiangcan <boxeed@gmail.com>
# Contributor: Rafael Beraldo <rafaelluisberaldo@gmail.com>
# Contributor: Bence Horvath <horvathb@me.com>

pkgname=todo.c-git
pkgver=20131129
pkgrel=1
pkgdesc="Command line lightweight todo tool with readable storage , written in C"
arch=("any")
url="https://github.com/hit9/todo.c"
license=('BSD')
makedepends=('git')
provides=('todo.c=${pkgver}')
conflicts=('todo.c' 'todo')
source=("$pkgname"::'git://github.com/hit9/todo.c.git')
md5sums=('SKIP')

#Learning from PKGBUILD of mono-addins-git
pkgver() {
		cd "$srcdir/%pkgname"
		git log -1 --format='%cd' --date=short | tr -d -- '-'
}

build() {
		cd "$srcdir/$pkgname"
		make
}

package() {
		cd "$srcdir/$pkgname"
		install -Dm755 "src/todo" "$pkgdir/usr/bin/todo"
		install -Dm644 "LICENSE-BSD" "$pkgdir/usr/share/licenses/todo.c/LICENSE-BSD"
}
